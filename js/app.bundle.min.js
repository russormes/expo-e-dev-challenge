!function e(t,n,r){function o(u,l){if(!n[u]){if(!t[u]){var p="function"==typeof require&&require;if(!l&&p)return p(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[u]={exports:{}};t[u][0].call(d.exports,function(e){var n=t[u][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){window.mobilecheck=function(){return-1===window.location.host.indexOf("localhost")};let r;r=e(mobilecheck()?"./mob_model":"./model"),$("#selSupplier").change(function(e){const t=e.target.options[e.target.selectedIndex].value;r.getProductsBySupplier(t,function(e,t){const n=$("#selProduct");n.find("option").remove(),$.each(t,function(e,t){$("<option>").val(e).text(t.product).appendTo(n)}),n.change()})}),$("#selProduct").change(function(e){const t=e.target.options[e.target.selectedIndex].value;r.getProductById(t,function(e,n){$("#tabDetails tr").not(":first").remove();let r="";r+="<tr><td>"+t+"</td><td>"+n.supplier+"</td></td><td>"+n.product+"</td></td><td>"+n.price+"</td></tr>",$("#tabDetails tr").first().after(r)})}),function(){r.getSuppliers(function(e,t){if(e)return alert(e.message);const n=$("#selSupplier");return n.find("option").remove(),$.each(t,function(e,t){$("<option>").val(e).text(t).appendTo(n)}),n.change()})}()},{"./mob_model":2,"./model":3}],2:[function(e,t,n){const r=t.exports={};let o={};r.getSuppliers=function(e){return e(null,{1:"New Co ltd",2:"Old Co ltd"})},r.getProductsBySupplier=function(e,t){t(null,o="1"===e?{1:{product:"Small wongle",price:"5",supplier:"New Co ltd"},2:{product:"Large wongle",price:"8",supplier:"New Co ltd"},3:{product:"Super wongle",price:"12",supplier:"New Co ltd"}}:{4:{product:"Mini wongle",price:"4",supplier:"New Co ltd"},5:{product:"Small wongle",price:"6",supplier:"New Co ltd"},6:{product:"Large wongle",price:"9",supplier:"New Co ltd"},7:{product:"Super wongle",price:"13",supplier:"New Co ltd"}})},r.getProductById=function(e,t){let n;if(o)return n=o[e],n?t(null,n):t(new Error("No product with id "+e));t(new Error("Something strange happened! No product data present"))}},{}],3:[function(e,t,n){const r=t.exports={};r.getSuppliers=function(e){$.ajax({url:"/inventory/suppliers",method:"GET"}).done(function(t){return e(null,JSON.parse(t))}.bind(this)).fail(function(t){return e(t)})},r.getProductsBySupplier=function(e,t){let n="/inventory/suppliers/"+e;$.ajax({url:n,method:"GET"}).done(function(e){return t(null,JSON.parse(e))}.bind(this)).fail(function(e){return t(e)})},r.getProductById=function(e,t){let n="/inventory/"+e;$.ajax({url:n,method:"GET"}).done(function(e){return t(null,JSON.parse(e))}.bind(this)).fail(function(e){return t(e)})}},{}]},{},[1]);
